body img { opacity: 0.025; }

/* ------------------------- von Hamburger Introduction */

.el-introduction {
    min-height: 90vh;

    /* has centered content */
    display:    flex;
    flex-direction:  column;
    justify-content: center;
    align-content:   stretch;
}

#Taupo {
    /* has stones at hte bottom */
    padding-bottom: 0;


    /* catground -- crown */

    background-attachment: fixed;
    background-size:       contain;
    background-position:   center center;
    background-repeat:     no-repeat;
    background-image: url('data:image/svg+xml,%3Csvg version="1.1" xmlns="http://www.w3.org/2000/svg" width="1000" height="1000" viewBox="0 0 1000 1000"%3E%3Cpath style="opacity:0.04;" d="M461.8,100c38.6,0,49.7,14.9,69,45.9c23.5,37.8,11.9,54.6-14.6,84.7c-48,54.8,17.3,144.8,48.8,197.5 c46.9,78.3,100.9,42,153.4-14.1c11.5-12.2,63-61.2,55-79.4c-13.6-31-28.1-58.5,1.5-87.4c41.9-41,117-10.6,124.7,46.5 c4.4,32.3-23.9,45.5-45.8,61.8C829,374,827.5,451.7,823,479.9c-11.5,72.6-23.8,143.6-32.2,216.7c-4.4,38.8-11.3,78.2-11.7,117.4 c-0.5,47-8.1,51.4-54.8,36.9c-73-22.6-166.5-15.4-241.5-8.2c-79.8,7.5-161.4,18.8-237.3,45.9c-34.2,12.2-52.9,23.8-66.2-16.7 c-11.4-34.9-22.5-69.9-33.2-105c-7.4-24.2-71.8-200-34.9-195.5c17.8,2.2,87.8,19.4,97.1-6.6c16.3-45,9-39.5,59.1-35.5 c97.8,7.8,98.4-64,121-140.9c11.4-38.5,25.3-75.8,26.7-116.4c1.2-34-21.8-32.6-33-62.1c-9.3-24.5-1.5-59.7,13.1-80.8 C400.2,122.3,445.4,99.5,461.8,100C470.2,100.2,461.8,100.1,461.8,100z"/%3E%3C/svg%3E');
}

.el-stones-roger-that {
    margin-top:    20vh;
    padding-bottom: calc( 5vw + 2em*var(--if-grid-is-tiny, 0) );
    position:  relative;
}
.el-stones-roger-that>figure>img {
    width: 100%;
}
.el-stones-roger-that::before {
    content: '';
    position: absolute;
    z-index: -1;
    bottom: 0;
    left: 0;
    width: 100%;
    height: calc( 10vw + 2em*var(--if-grid-is-tiny, 0) );
    background-color: var(--shadow-color);
}

#DialogsAboutCrown {

    padding-top:    30vh;
    padding-bottom: 30vh;
    font-size:     1.25em;

    /* use colors */

    background-color: var(--back-color);
               color: var(--text-color);

    /* color model */

  --back-color:          hsl(202, 81%, 23%);
  --back-color--accent:  var(--back-color);
  --back-color--descent: hsla(202, 91%, 13%, 0.8);

  --text-color:          hsl(202, 0%, 100%);
  --text-color--accent:  var(--text-color);
  --text-color--descent: var(--text-color);

  --link-color:          #00C;
  --link-color--accent:  var(--link-color);
  --link-color--descent: var(--link-color);

  --shadow-color:        hsla(0, 0%, 0%, 0.3);


    /* catground -- crown */

    background-attachment: fixed;
    background-size:       contain;
    background-position:   center center;
    background-repeat:     no-repeat;
    background-image: url('data:image/svg+xml,%3Csvg version="1.1" xmlns="http://www.w3.org/2000/svg" width="1000" height="1000" viewBox="0 0 1000 1000"%3E%3Cpath style="opacity:0.04;" d="M461.8,100c38.6,0,49.7,14.9,69,45.9c23.5,37.8,11.9,54.6-14.6,84.7c-48,54.8,17.3,144.8,48.8,197.5 c46.9,78.3,100.9,42,153.4-14.1c11.5-12.2,63-61.2,55-79.4c-13.6-31-28.1-58.5,1.5-87.4c41.9-41,117-10.6,124.7,46.5 c4.4,32.3-23.9,45.5-45.8,61.8C829,374,827.5,451.7,823,479.9c-11.5,72.6-23.8,143.6-32.2,216.7c-4.4,38.8-11.3,78.2-11.7,117.4 c-0.5,47-8.1,51.4-54.8,36.9c-73-22.6-166.5-15.4-241.5-8.2c-79.8,7.5-161.4,18.8-237.3,45.9c-34.2,12.2-52.9,23.8-66.2-16.7 c-11.4-34.9-22.5-69.9-33.2-105c-7.4-24.2-71.8-200-34.9-195.5c17.8,2.2,87.8,19.4,97.1-6.6c16.3-45,9-39.5,59.1-35.5 c97.8,7.8,98.4-64,121-140.9c11.4-38.5,25.3-75.8,26.7-116.4c1.2-34-21.8-32.6-33-62.1c-9.3-24.5-1.5-59.7,13.1-80.8 C400.2,122.3,445.4,99.5,461.8,100C470.2,100.2,461.8,100.1,461.8,100z"/%3E%3C/svg%3E');
}

#DialogWithCreator {
    /* catground -- crown */

    background-attachment: fixed;
    background-size:       contain;
    background-position:   center center;
    background-repeat:     no-repeat;
    background-image: url('data:image/svg+xml,%3Csvg version="1.1" xmlns="http://www.w3.org/2000/svg" width="1000" height="1000" viewBox="0 0 1000 1000"%3E%3Cpath style="opacity:0.04;" d="M461.8,100c38.6,0,49.7,14.9,69,45.9c23.5,37.8,11.9,54.6-14.6,84.7c-48,54.8,17.3,144.8,48.8,197.5 c46.9,78.3,100.9,42,153.4-14.1c11.5-12.2,63-61.2,55-79.4c-13.6-31-28.1-58.5,1.5-87.4c41.9-41,117-10.6,124.7,46.5 c4.4,32.3-23.9,45.5-45.8,61.8C829,374,827.5,451.7,823,479.9c-11.5,72.6-23.8,143.6-32.2,216.7c-4.4,38.8-11.3,78.2-11.7,117.4 c-0.5,47-8.1,51.4-54.8,36.9c-73-22.6-166.5-15.4-241.5-8.2c-79.8,7.5-161.4,18.8-237.3,45.9c-34.2,12.2-52.9,23.8-66.2-16.7 c-11.4-34.9-22.5-69.9-33.2-105c-7.4-24.2-71.8-200-34.9-195.5c17.8,2.2,87.8,19.4,97.1-6.6c16.3-45,9-39.5,59.1-35.5 c97.8,7.8,98.4-64,121-140.9c11.4-38.5,25.3-75.8,26.7-116.4c1.2-34-21.8-32.6-33-62.1c-9.3-24.5-1.5-59.7,13.1-80.8 C400.2,122.3,445.4,99.5,461.8,100C470.2,100.2,461.8,100.1,461.8,100z"/%3E%3C/svg%3E');
}

#UniverseModelAppears {
    position: relative;
    /* woman background */
    background-attachment: fixed;
    background-size:       cover;
    background-position:   25% 50%;
    background-repeat:     no-repeat;
    background-image: url(../../art/illustrations/Lola%20Le%20Lann%20-%20Un%20moment%20d%60%C3%A9garement.gif);
    padding-top:      calc( 205/380*100% + 2rem );
}
#UniverseModelAppears .el-appears-message {
    grid-column: full;
    padding: var(--syx);
    font-size: 6vw;
    color: white;
    opacity: 0.5;

    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;

    display: flex;
    flex-direction: column;
    justify-content: center;
    align-content: flex-end;
    align-items: flex-end;
}
#UniverseModelAppears .dialog-avatar>img {
    margin-left: auto;
    margin-right: auto;
}

#DialogWithHistory {
    padding-top: var(--sy, 1rem);
}

#BrowserTheCat {
    padding-bottom: 0;
}


/* PART 2 */

#LookingForTheName {
    padding-top:    10vh;
    padding-bottom: 0;
}
#dnaName {
    padding-top: calc( 2*var(--sy));
}

#SettersGetters {
}




.el-crown-story {
    /* catground */
    background-attachment: fixed;
    background-size:       contain;
    background-position:   center center;
    background-repeat:     no-repeat;
    background-image: url('data:image/svg+xml,%3Csvg version="1.1" xmlns="http://www.w3.org/2000/svg" width="1000" height="1000" viewBox="0 0 1000 1000"%3E%3Cpath style="opacity:0.04;" d="M461.8,100c38.6,0,49.7,14.9,69,45.9c23.5,37.8,11.9,54.6-14.6,84.7c-48,54.8,17.3,144.8,48.8,197.5 c46.9,78.3,100.9,42,153.4-14.1c11.5-12.2,63-61.2,55-79.4c-13.6-31-28.1-58.5,1.5-87.4c41.9-41,117-10.6,124.7,46.5 c4.4,32.3-23.9,45.5-45.8,61.8C829,374,827.5,451.7,823,479.9c-11.5,72.6-23.8,143.6-32.2,216.7c-4.4,38.8-11.3,78.2-11.7,117.4 c-0.5,47-8.1,51.4-54.8,36.9c-73-22.6-166.5-15.4-241.5-8.2c-79.8,7.5-161.4,18.8-237.3,45.9c-34.2,12.2-52.9,23.8-66.2-16.7 c-11.4-34.9-22.5-69.9-33.2-105c-7.4-24.2-71.8-200-34.9-195.5c17.8,2.2,87.8,19.4,97.1-6.6c16.3-45,9-39.5,59.1-35.5 c97.8,7.8,98.4-64,121-140.9c11.4-38.5,25.3-75.8,26.7-116.4c1.2-34-21.8-32.6-33-62.1c-9.3-24.5-1.5-59.7,13.1-80.8 C400.2,122.3,445.4,99.5,461.8,100C470.2,100.2,461.8,100.1,461.8,100z"/%3E%3C/svg%3E');
}
.el-crown-dialogs {
    background-attachment: fixed;
    background-size:       contain;
    background-position:   center center;
    background-repeat:     no-repeat;
    background-image:      url(../../art/decor/king-crown-featured.svg);
}

.el-introduction .el-hamburger {
    max-width:    12em;
    margin-left:  calc( 2 * var(--col-space) );
    margin-right: auto;
    cursor:       pointer;
}
.el-introduction .el-hamburger>img {
    transition: transform 420ms;
    transition-timing-function: var(--timing-function--focusZoom);
}
.el-introduction .el-hamburger:hover>img {
    transform:  rotate(-45deg);
}
@media (max-width: 600px) {
    .el-introduction .el-hamburger {
        max-width:    6em;
        margin-left:  calc( 1 * var(--col-space) );
    }
}

.el-hamburger {
    padding:   8%;
    position:  relative;
    z-index:   0;
    max-width: 100%;
}
.el-hamburger::before {
    content:  '';

    /* is decorative background */
    position: absolute;
    z-index: -1;
    top:    0;
    left:   0;
    width:  100%;
    height: 100%;

    background-color: hsl(var(--HSL-AccentBlue));
    border-radius:    50%;
}


.VonHamburgerOnDuty {
    position: fixed;
    z-index:  90;
    top:      -3rem;
    left:    calc( 50vw - 2.5rem );

    width:    5rem;
    margin:   0;

    cursor:   pointer;
    outline-color: hsl(var(--HSL-AccentBlue));

    /* semantic button */
    padding:    0;
    border:     0;
    background: transparent;
    box-shadow: none;
    font-size:  1em;

 /* inactive state */
    display: none;
}
@media (min-width: 1200px) {
    .VonHamburgerOnDuty {
        top:      -4rem;
        left:    calc( 50vw - 3.5rem );
        width:    7rem;
    }
}
.VonHamburgerOnDuty.is-active {
    display: block;
}
.has-active-asidebar .VonHamburgerOnDuty {
    right: auto;
    left:  0;
}
.VonHamburgerOnDuty .el-hamburger {
    padding: 0.5em;
}
.VonHamburgerOnDuty .svga-icon {
    font-size: 2em;
}
.VonHamburgerOnDuty .for-active   { display: none; }
.VonHamburgerOnDuty .for-inactive { display: block; }
.has-active-asidebar .VonHamburgerOnDuty .for-active   { display: block; }
.has-active-asidebar .VonHamburgerOnDuty .for-inactive { display: none; }

.VonHamburgerOnDuty.not-yet {
    display: none;
}
.VonHamburgerOnDuty .el-hamburger::before {
    border-radius: 50%;
    transform-origin: center center;
    transform: scale(1.2);
}

/*
@media (min-width: 1200px) {
    .VonHamburgerOnDuty {
        width: 6em;
    }
    .VonHamburgerOnDuty .el-hamburger>img {
        transition: transform 420ms;
        transition-timing-function: var(--timing-function--focusZoom);
    }
    .VonHamburgerOnDuty .el-hamburger:hover>img {
        transform:  rotate(-45deg) scale(0.75);
    }
}
*/

.asidebar-list {
    margin:  0 calc( (-1) * var(--col-space) );
    padding: 0;
    list-style: none;
}
.asidebar-list>li>a {
    display: block;
    padding: 0.5rem var(--col-space);
    text-decoration: none;
}
.asidebar-list>li>a:hover {
    background-color: hsla(0,0%,0%,0.25);
}


.el-tz-kota {
    border: 1px solid black;
    margin: var(--row-space) var(--col-space);
    background-color: white;
    page-break-inside: avoid;
}

/* ------------------------------------------------ Workers */

.lizard-value {
    font-size:  1.5em;
    text-align: center;
}
.character {
    max-width:    10em;
    margin-left:  auto;
    margin-right: auto;
}
.character img {
    width: 10em;
}
.illustration {
    padding-top:    2em;
    padding-bottom: 2em;
}
.illustration.is-centered>img {
    margin-left:  auto;
    margin-right: auto;
}
.wide-illustration {
    margin-left: auto;
    margin-right: auto;
}
.bookground-illustration {
    opacity: 1;
}
.chapter-header {
    grid-column: main-start / east-end;
    padding-top:    2em;
    padding-bottom: 2em;
}
@media (max-width: 600px) {
    .huge-title {
        text-align: left;
    }
}
.align-self--start {
    align-self: start;
}

.chapter-has-bottom-divider {
    position: relative;
}
.chapter-has-bottom-divider::after {
    content:  '';
    display:  block;
    position: absolute;
    z-index:  1;
    left:     0;
    bottom:  -2rem;
    width:    100%;
    height:   4rem;
    background-repeat: repeat-x;
    background-size:   auto 100%;
    background-image:  url('data:image/svg+xml,%3Csvg version="1.1" id="WaveLine" xmlns="http://www.w3.org/2000/svg" x="0" y="0" width="1000" height="50" viewBox="0 0 1000 50"%3E%3Cpath d="M0,4.9c0,0,13-1.1,18.3-1.3c3.1,0.1,9.4-0.2,12.2-0.8C41.9,0.4,54.4,2.1,66,0.3c10.2-1.7,21.9,4.3,31,6.2 c5.5,1.2,8.6,4,14.9,2.5c4.1-1,8.8-1.2,13.1-1.7C136.4,6,144.6,4.1,156,5c6.6,0.6,12,2.8,18.8,2.7c3.7,0,12.5-2.1,15.9-3.3 c11.1-4.2,23.1-0.2,33.8,1.7c10.4,1.8,20.8,4.7,31.1,6.8c10.9,2.2,17.5,5.7,29.3,2.9c8.4-2,21-2.8,29.9-2.9c13.6-0.2,28.6-1.6,42-3 c11.6-1.3,23.7-0.9,35.4-1.9c23.8-2,52-5.5,75.6-1.3c10.9,2,26.1,3.1,37.4,3c5.3,0.1,11.7,1.4,17,2c6,0.6,12.6,0.3,18.3,1.8 c3.7-1.1,8.6,1.2,12.5,0.3c2.7-0.7,6.2-1.3,8.9-1.8c5.3-1,11.3-1.6,16.4-3c9.2-2.8,27.4-3.8,37-1.6c7,1.8,16.4,4.9,23.6,5.4 c8.3,0.6,16.4,6,25,5.6c6.1-0.3,12.2,1.5,18.6,0.9c5.3-0.4,10.5-1.3,15.8-1.9c10.2-1.2,22.2-2.1,32-4.3c7.4-1.8,19.6-3.3,27.5-3.1 c12.5,0.3,25.2-4.8,37.9-4.3C807.2,6,817,4.9,827.9,8.2c9.1,2.8,20.6,3.7,30.2,5.7c12.3,2.7,26.6-8.8,38.2-2.9 c6.8,3.5,17,6.3,25.2,4.9c21.9-3.5,78.5-11,78.5-11v30.5c0,0-56.6,7.8-78.5,11.3c-8.2,1.4-18.4-1.4-25.2-4.9 c-11.6-5.9-25.9,5.6-38.2,2.9c-9.6-2-21.1-2.9-30.2-5.7c-10.9-3.3-20.7-2.3-32.2-2.8c-12.7-0.5-25.4,4.6-37.9,4.3 c-7.9-0.2-20.1,1.4-27.5,3.1c-9.8,2.3-21.8,3.1-32,4.3c-5.3,0.6-10.5,1.5-15.8,1.9c-6.4,0.6-12.5-1.2-18.6-0.9 c-8.6,0.4-16.7-5-25-5.6c-7.2-0.5-16.6-3.6-23.6-5.4c-9.6-2.3-27.8-1.2-37,1.6c-5.1,1.5-11.1,2.1-16.4,3c-2.7,0.5-6.2,1.1-8.9,1.8 c-3.9,0.9-8.8-1.4-12.5-0.3c-5.7-1.5-12.3-1.2-18.3-1.8c-5.3-0.6-11.7-1.9-17-2c-11.3,0.1-26.5-1.1-37.4-3 c-23.6-4.2-51.8-0.7-75.6,1.3c-11.7,1-23.8,0.6-35.4,1.9c-13.4,1.5-28.4,2.9-42,3c-8.9,0.1-21.5,0.9-29.9,2.9 c-11.8,2.8-18.4-0.7-29.3-2.9c-10.3-2.1-20.7-5-31.1-6.8c-10.7-1.9-22.7-5.9-33.8-1.7c-3.4,1.3-12.2,3.3-15.9,3.3 c-6.8,0.1-12.2-2.1-18.8-2.7c-11.4-0.9-19.6,1-31,2.3c-4.3,0.5-9,0.7-13.1,1.7c-6.3,1.6-9.4-1.3-14.9-2.5c-9.1-1.9-20.8-7.9-31-6.2 c-11.6,1.8-24.1,0.1-35.5,2.5c-2.8,0.6-9.1,0.9-12.2,0.8C13,34.5,0,35.3,0,35.3V4.9z"/%3E%3C/svg%3E');
    background-position: center center;
}

.has-bottom-divider,
.has-top-divider {
    position: relative;
}
.has-top-divider::before,
.has-bottom-divider::after {
    content:  '';
    display:  block;
    position: absolute;
    z-index:  1;
    left:     0;
    width:    100%;
    height:   2rem;
    background-repeat: repeat-x;
    background-size:   auto 100%;
    background-image:  url('data:image/svg+xml,%3Csvg version="1.1" id="WaveLine" xmlns="http://www.w3.org/2000/svg" x="0" y="0" width="1000" height="50" viewBox="0 0 1000 50"%3E%3Cpath d="M0,4.9c0,0,13-1.1,18.3-1.3c3.1,0.1,9.4-0.2,12.2-0.8C41.9,0.4,54.4,2.1,66,0.3c10.2-1.7,21.9,4.3,31,6.2 c5.5,1.2,8.6,4,14.9,2.5c4.1-1,8.8-1.2,13.1-1.7C136.4,6,144.6,4.1,156,5c6.6,0.6,12,2.8,18.8,2.7c3.7,0,12.5-2.1,15.9-3.3 c11.1-4.2,23.1-0.2,33.8,1.7c10.4,1.8,20.8,4.7,31.1,6.8c10.9,2.2,17.5,5.7,29.3,2.9c8.4-2,21-2.8,29.9-2.9c13.6-0.2,28.6-1.6,42-3 c11.6-1.3,23.7-0.9,35.4-1.9c23.8-2,52-5.5,75.6-1.3c10.9,2,26.1,3.1,37.4,3c5.3,0.1,11.7,1.4,17,2c6,0.6,12.6,0.3,18.3,1.8 c3.7-1.1,8.6,1.2,12.5,0.3c2.7-0.7,6.2-1.3,8.9-1.8c5.3-1,11.3-1.6,16.4-3c9.2-2.8,27.4-3.8,37-1.6c7,1.8,16.4,4.9,23.6,5.4 c8.3,0.6,16.4,6,25,5.6c6.1-0.3,12.2,1.5,18.6,0.9c5.3-0.4,10.5-1.3,15.8-1.9c10.2-1.2,22.2-2.1,32-4.3c7.4-1.8,19.6-3.3,27.5-3.1 c12.5,0.3,25.2-4.8,37.9-4.3C807.2,6,817,4.9,827.9,8.2c9.1,2.8,20.6,3.7,30.2,5.7c12.3,2.7,26.6-8.8,38.2-2.9 c6.8,3.5,17,6.3,25.2,4.9c21.9-3.5,78.5-11,78.5-11v30.5c0,0-56.6,7.8-78.5,11.3c-8.2,1.4-18.4-1.4-25.2-4.9 c-11.6-5.9-25.9,5.6-38.2,2.9c-9.6-2-21.1-2.9-30.2-5.7c-10.9-3.3-20.7-2.3-32.2-2.8c-12.7-0.5-25.4,4.6-37.9,4.3 c-7.9-0.2-20.1,1.4-27.5,3.1c-9.8,2.3-21.8,3.1-32,4.3c-5.3,0.6-10.5,1.5-15.8,1.9c-6.4,0.6-12.5-1.2-18.6-0.9 c-8.6,0.4-16.7-5-25-5.6c-7.2-0.5-16.6-3.6-23.6-5.4c-9.6-2.3-27.8-1.2-37,1.6c-5.1,1.5-11.1,2.1-16.4,3c-2.7,0.5-6.2,1.1-8.9,1.8 c-3.9,0.9-8.8-1.4-12.5-0.3c-5.7-1.5-12.3-1.2-18.3-1.8c-5.3-0.6-11.7-1.9-17-2c-11.3,0.1-26.5-1.1-37.4-3 c-23.6-4.2-51.8-0.7-75.6,1.3c-11.7,1-23.8,0.6-35.4,1.9c-13.4,1.5-28.4,2.9-42,3c-8.9,0.1-21.5,0.9-29.9,2.9 c-11.8,2.8-18.4-0.7-29.3-2.9c-10.3-2.1-20.7-5-31.1-6.8c-10.7-1.9-22.7-5.9-33.8-1.7c-3.4,1.3-12.2,3.3-15.9,3.3 c-6.8,0.1-12.2-2.1-18.8-2.7c-11.4-0.9-19.6,1-31,2.3c-4.3,0.5-9,0.7-13.1,1.7c-6.3,1.6-9.4-1.3-14.9-2.5c-9.1-1.9-20.8-7.9-31-6.2 c-11.6,1.8-24.1,0.1-35.5,2.5c-2.8,0.6-9.1,0.9-12.2,0.8C13,34.5,0,35.3,0,35.3V4.9z"/%3E%3C/svg%3E');
    background-position: center center;
}

.has-top-divider::before {      top: -1rem; }
.has-bottom-divider::after { bottom: -1rem; }


        .box {
            --secondary-background-color: transparent;
            padding-top: 0;
            padding-bottom: 0;
        }


        .journal-grid {
            --sx:  1.5rem;
            --sy:  1.5rem;
            --syx: var(--sy) var(--sx);
            --sx-text-correction: 0.25rem;

            --size-ma: 24rem;
            --size-mb:  8rem;
            --size-n:  16rem;
            --size-w:   minmax(0, 4em);
            --size-e:   minmax(0, 100vw);

            --if-grid-is-tiny: 0;
            --if-grid-no-tiny: 1;

            --open-main-padding: pm_;
            --open-main:          m_;
            --stop-main:          _m;
            --stop-main-padding: _pm;

            --grid-part--main-content: var(--size-ma) [_ma] var(--sx) [_pma] 0 [pmb_] var(--sx) [mb_] var(--size-mb);
            --grid-part--note-column:  0 [pn_] var(--sx) [n_] var(--size-n) [_n] var(--sx) [_pn];
            --grid-part--main-space:   0;
            --grid-part--main-gap:     var(--sx);

            --grid-part--full-start:   [full-start w_] var(--size-w) [_w] 0;
            --grid-part--full-end:     0 [e_] var(--size-e) [_e full-end];
            --grid-part--empty-start:  [full-start w_ e_] 0;
            --grid-part--empty-end:    0 [_w _e full-end];


        }

        @media (max-width:65rem) {
            .journal-grid {
            --size-ma: 3fr;
            --size-mb: 1fr;
            --size-n:  2fr;
            --size-w:  minmax(0, auto);
            --size-e:  minmax(0, auto);
            }
        }
        @media (max-width:47rem) {
            .journal-grid {
            --if-grid-is-tiny: 1;
            --if-grid-no-tiny: 0;

            --open-main-padding: pm_ pn_ pmb_;
            --open-main:          m_  n_  mb_;
            --stop-main:          _m  _n  _ma;
            --stop-main-padding: _pm _pn _pma;

            --grid-part--note-column:  0;
            --grid-part--main-content: 1fr;
            }
        }


        .figured,
        .wide,
        .note,
        .box,
        .block,
        .keep-grid,
        .journal-grid {

            display:         grid;
            align-items:     start;
            justify-content: start;
            grid-auto-flow:  row;
            grid-auto-rows:  min-content;
            grid-row-gap:    var(--sy);
            grid-column-gap: 0;

            grid-template-columns:
                  var(--grid-part--full-start)
                [ var(--open-main-padding) ]
                  var(--grid-part--main-gap)
                  var(--grid-part--main-space)
                [ var(--open-main) ]
                  var(--grid-part--main-content)
                [ var(--stop-main) ]
                  var(--grid-part--main-gap)
                [ var(--stop-main-padding) ]
                  var(--grid-part--note-column)
                  var(--grid-part--full-end)
                ;
        }

        .journal-grid * { grid-column:   m_ / _m;   }
        .block       { grid-column:   m_ / _m;   }
        .keep-grid   { grid-column:    full;     }
        .layer       { grid-column:    full;     }
        .box         { grid-column:  pm_ / _pm;  }
        .wide        { grid-column:  pm_ / _pn;  }

        /*** figured component */
            .figured {
                grid-column:  pm_ / _pn;
                margin-bottom: calc( var(--sy)*var(--if-grid-is-tiny) );
              --grid-part--full-start: var(--grid-part--empty-start);
              --grid-part--full-end:   var(--grid-part--empty-end);
            }
            .figured>*            { grid-column: m_ / _ma; }
            .figured>figure,
            .figured>.figure      { grid-column: pmb_ / _pn; }
            .figured.card>*       { order: calc( 2*var(--if-grid-is-tiny, 0) ); }
            .figured.card>figure,
            .figured.card>.figure { order: calc( 1*var(--if-grid-is-tiny, 0) ); }

        /*** note component */
            .note {
                grid-column:  pn_ / _pn;
              --grid-part--main-space: calc( var(--sx, 1.5em) * var(--if-grid-is-tiny, 0) );
                /* 14/24 */
                font-size:    0.875em;
                line-height: 1.714286;
            }
            .note.color-box {
                margin-top: 0;
            }
            .note p {
                max-width: 16em;
            }

        /* --------------------------------- empty-start */

        .note,
        .wide,
        .box,
        .block {
            --grid-part--full-start: var(--grid-part--empty-start);
            --grid-part--full-end:   var(--grid-part--empty-end);
        }

        /* --------------------------------- reduce note */

        .note,
        .wide:not(.keep-grid),
        .box {

            --open-main-padding: pm_ pn_ pmb_;
            --open-main:          m_  n_  mb_;
            --stop-main:          _m  _n  _ma;
            --stop-main-padding: _pm _pn _pma;

            --grid-part--note-column:  0;
            --grid-part--main-content: 1fr;
        }

        /* --------------------------------- reduce content paddings */

        .journal-grid .block { /* +1 level */

            --open-main-padding: pm_ pn_ pmb_;
            --open-main:          m_  n_  mb_;
            --stop-main:          _m  _n  _ma;
            --stop-main-padding: _pm _pn _pma;

            --grid-part--note-column:  0;
            --grid-part--main-content: 1fr;
            --grid-part--main-gap: 0;
        }

        /* --------------------------------- workers */

        /* -Align Compass: SELF */
         .c-align { align-self: center; justify-self: center; }
         .s-align { align-self: end;    justify-self: center; }
         .n-align { align-self: start;  justify-self: center; }
         .w-align { align-self: center; justify-self: start;  }
         .e-align { align-self: center; justify-self: end;    }
        .se-align { align-self: end;    justify-self: end;    }
        .ne-align { align-self: start;  justify-self: end;    }
        .sw-align { align-self: end;    justify-self: start;  }
        .nw-align { align-self: start;  justify-self: start;  }

        .pt-t, .pv-t {
          --padding-top:    calc( var(--sx, 0.250em) - 0.250em );
            padding-top:    var(--padding-top, 1em);
        }
        .pb-t, .pv-t {
          --padding-bottom: calc( var(--sx, 0.250em) - 0.250em );
            padding-bottom: var(--padding-bottom, 1em);
        }


        /* --------------------------------- book layout */

        .book-of-chapters {
            grid-row-gap: 0;
        }
        .book-chapter {
            padding-top:    20vh;
            padding-bottom: 20vh;
        }
        .book-chapter-header {
            margin-top:    var(--sy);
            margin-bottom: var(--sy);
        }
        .book-chapter-caption {
            transform: translateX(calc((-0.75)*var(--sx)*var(--if-grid-no-tiny, 1)));
        }
        .book-illustration {
            margin-top:    var(--sy);
            margin-bottom: var(--sy);
        }
        .book-illustration.wide {
            padding:     calc( 1 * var(--sx) * var(--if-grid-no-tiny, 1) + var(--sx) ) 0;
        }
        .book-illustration.wide>*:not(figcaption):not(.figcaption) {
            margin-left: calc( 1 * var(--sx) * var(--if-grid-no-tiny, 1) );
        }


        /* --------------------------------- book markup */

        .book-markup p {
            max-width: 35em;
        }
        .book-markup .mini-text-block {
            max-width: 18em;
        }

        .book-markup blockquote {
            background-color: var(--back-color--descent);
            padding:          calc( var(--sx) - var(--sx-text-correction, 0) ) var(--sx);
            border-radius:    calc( 0.25*var(--sx) );
            /* clip-path: Anti-arrow from right side */
            clip-path: polygon(
                0                                0,
                100%                             0,
                100%                             calc( 1 * var(--sx) ),
                calc( 100% - 0.4*var(--sx) )     calc( 1.3*var(--sx) ),
                100%                             calc( 1.6*var(--sx) ),
                100%                             100%,
                0                                100%
            );
        }
        .book-markup blockquote[cite="appking"] {
            background-color: rgba(200,150,0,0.1);
        }
        .book-markup blockquote[cite="voron"] {
            background-color: rgba(150,50,0,0.1);
        }
        .book-markup blockquote[cite="creator"] {
            background-color: rgba(50,100,200,0.1);
        }
        .book-markup blockquote[cite="history"] {
            background-color: rgba(100,0,50,0.1);
        }
        #DialogsAboutCrown blockquote[cite="creator"] {
            background-color: rgba(100,100,200,0.25);
        }
        #DialogsAboutCrown blockquote[cite="history"] {
            background-color: rgba(250,50,50,0.25);
        }
        .book-markup q {
            display:  block;
            position: relative;
        }
        .book-markup q::before {
            content:   '«';
            position:  absolute;
            transform: translateX(-125%);
        }
        .book-markup q::after {
            content:   '»';
            position:  absolute;
            transform: translateX(25%);
            bottom: 0;
        }
        .book-markup .group-content-rows {
            grid-template-columns: [full] 1fr;
        }
        .book-markup .group-content-rows > * {
            grid-column: full;
        }


        /* --------------------------------- elements */

        @media (min-width:65rem) {
            .prefix-title {
                position: absolute;
                transform: translateX(-150%) translateY(-25%);
                font-size: 1.5em;
            }
        }
        
        .dialog-avatar {
            position:relative;
        }
        @media (max-width:47rem) {
            .dialog-avatar {
                justify-self: end;
            }
        }
        .dialog-avatar.for-appking::after,
        .dialog-avatar.for-voron::after {
            content: '';
            position: absolute;
            z-index: -1;
            background-color: var(--back-color--descent);
            bottom: 0;
            left: 0;
            width: 96%;
            padding-bottom: 20%;
            transform: translateY(50%);
            border-radius: 50%;
        }
        .dialog-avatar.for-voron   { width: 12rem; }
        .dialog-avatar.for-appking { width: 12rem; }
        .dialog-avatar.for-appking-dialog>img,
        .dialog-avatar.for-history>img,
        .dialog-avatar.for-creator>img {
            width: 5rem;
            margin-top: calc( -1.5*var(--sy)*var(--if-grid-is-tiny, 0) );
        }

        .the-great-divider {
            text-align: center;
            padding: 1em 0;
            height: auto;
            color: var(--text-color--descent, inherit);
            /* 40/48 */
            font-size:   2.5em;
            line-height: 1.2;
            }
        .the-great-divider::before { content: '∗ ∗ ∗'; }

        .codeblock {
            display: block;
            background-color: var(--back-color--descent);
            padding: calc( var(--sx) - 0.25em ) var(--sx);
        }
        .codeblock>pre {
            white-space: pre-wrap;
            word-break: break-word;
        }
        .codeblock.wrap-lines>pre {
            word-break: break-all;
        }
        .codeblock>pre {
            margin: 0;
        }

        .color-box {
            background-color: var(--back-color--descent);
        }

        .expand {
            background-color: var(--back-color--accent);
            --p2x: calc( 2 * var(--sx) );
            --p1x: calc( 1 * var(--sx) );
            padding-top: var(--p2x);
            padding-bottom: var(--p2x);
            margin-top: var(--p1x);
            margin-bottom: var(--p1x);
            padding-left: calc( var(--p1x) * var(--if-grid-no-tiny, 1) );
            padding-right: calc( var(--p1x) * var(--if-grid-no-tiny, 1) );
            /* 20/24 */
            font-size:   1.25em;
            line-height: 1.2;
        }

