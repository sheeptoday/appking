<!doctype html><!-- appart :: 8002 :: 2019.7.14 -->
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- ========================================= HEAD CONTENT -->


    <title>Король Апп</title>
    <meta name="description" content="История сайта, расказанная его компонентами" />
    <meta name="author"      content="zl 2019, www.sheep.today" />


    <!-- ========================================= BOOT -->


    <style>
        /* ༼°▽°༽ style boot */
        body    { width: 100%; height: auto; overflow: hidden; }
        img,svg { max-width: 100%; }
    </style>


    <script>
        /* ༼°▽°༽ app boot */
        function BootKing() {
            let  King = this
            King.has  =  {
                 Queens: ['mutate','onload'],
                 Memory: [],
                 toRemember: (something) => King.has.Memory.push(something) }
            function KeepInMemory(responsible) {
                 return (dna) => King.has.toRemember({dna,for:responsible}) }
            King.has.Queens.map( (queen)=>King[queen]=KeepInMemory(queen) ) }

        let app = new BootKing()
    </script>


    <!-- ༼°▽°༽ prefetch boot -->
    <link rel="preconnect"   href="//fonts.gstatic.com">
    <!-- INFO: https://3perf.com/blog/link-rels/ -->


    <!-- ========================================= DESIGN -->


    <link
        href="app/styles/appart.css?v2019.7.21x2"
        rel="stylesheet" type="text/css">
    <link
        href="https://fonts.googleapis.com/css?family=Vollkorn:400,400i,700&subset=cyrillic"
        rel="stylesheet">


    <!-- FAVICON -->
    <!-- 2019.1, best favicon service: https://realfavicongenerator.net/ -->
    <link rel="apple-touch-icon" sizes="180x180" href="app/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="app/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="app/favicons/favicon-16x16.png">
    <link rel="manifest" href="app/favicons/site.webmanifest">
    <link rel="mask-icon" href="app/favicons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="app/favicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="msapplication-config" content="app/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">


    <!-- ========================================= APP CUSTOM -->

    <link
        href="app/styles/el-chapters.css?v2019.7.21"
        rel="stylesheet" type="text/css">


    <style id="journal-grid">
        .journal-grid {
            --sx:  1.5rem;
            --sy:  1.5rem;
            --syx: var(--sy) var(--sx);
            --sx-text-correction: 0.25rem;

            --size-ma: 24rem;
            --size-mb:  8rem;
            --size-n:  16rem;
            --size-w:  minmax(0, auto);
            --size-e:  minmax(0, auto);

            --if-grid-is-tiny: 0;
            --if-grid-no-tiny: 1;

            --open-main-padding: pm_;
            --open-main:          m_;
            --stop-main:          _m;
            --stop-main-padding: _pm;

            --grid-part--main-content: var(--size-ma) [_ma] var(--sx) [_pma] 0 [pmb_] var(--sx) [mb_] var(--size-mb);
            --grid-part--note-column:  0 [pn_] var(--sx) [n_] var(--size-n) [_n] var(--sx) [_pn];
            --grid-part--main-space: 0;

            --grid-part--full-start:   [full-start w_] var(--size-w) [_w] 0;
            --grid-part--full-end:     0 [e_] var(--size-e) [_e full-end];
            --grid-part--empty-start:  [full-start w_ e_] 0;
            --grid-part--empty-end:    0 [_w _e full-end];


        }

        @media (max-width:57em) {
            .journal-grid {
            --size-ma: 3fr;
            --size-mb: 1fr;
            --size-n:  2fr;
            }
        }
        @media (max-width:47em) {
            .journal-grid {
            --if-grid-is-tiny: 1;
            --if-grid-no-tiny: 0;


            --open-main-padding: pm_ pn_ pmb_;
            --open-main:          m_  n_  mb_;
            --stop-main:          _m  _n  _ma;
            --stop-main-padding: _pm _pn _pma;

            --grid-part--note-column:  0;
            --grid-part--main-content: 1fr;
            }
        }
        @media (min-width:65em) {
            .journal-grid {
            --size-w:   minmax(0, 4em);
            --size-e:   minmax(0, 100vw);
            }
        }

        .figured,
        .wide,
        .note,
        .box,
        .block,
        .keep-grid,
        .journal-grid {

            display:         grid;
            align-items:     start;
            justify-content: start;
            grid-auto-flow:  row;
            grid-auto-rows:  min-content;
            grid-row-gap:    var(--sy);
            grid-column-gap: 0;

            grid-template-columns:
                  var(--grid-part--full-start)
                [ var(--open-main-padding) ]
                  var(--sx)
                  var(--grid-part--main-space)
                [ var(--open-main) ]
                  var(--grid-part--main-content)
                [ var(--stop-main) ]
                  var(--sx)
                [ var(--stop-main-padding) ]
                  var(--grid-part--note-column)
                  var(--grid-part--full-end)
                ;
        }

        .journal-grid * { grid-column:   m_ / _m;   }
        .layer       { grid-column:    full;     }
        .keep-grid   { grid-column:    full;     }
        .block       { grid-column:   m_ / _m;   }
        .box         { grid-column:  pm_ / _pm;  }
        .wide        { grid-column:  pm_ / _pn;  }

        /*** figured component */
            .figured {
                grid-column:  pm_ / _pn;
                margin-bottom: calc( var(--sy)*var(--if-grid-is-tiny) );
              --grid-part--full-start: var(--grid-part--empty-start);
              --grid-part--full-end:   var(--grid-part--empty-end);
            }
            .figured>*            { grid-column: m_ / _ma; }
            .figured>figure,
            .figured>.figure      { grid-column: pmb_ / _pn; }
            .figured.card>*       { order: calc( 2*var(--if-grid-is-tiny, 0) ); }
            .figured.card>figure,
            .figured.card>.figure { order: calc( 1*var(--if-grid-is-tiny, 0) ); }

        /*** note component */
            .note {
                grid-column:  pn_ / _pn;
              --grid-part--main-space: calc( var(--sx, 1.5em) * var(--if-grid-is-tiny, 0) );
                /* 14/24 */
                font-size:    0.875em;
                line-height: 1.714286;
            }
            .note.color-box {
                margin-top: 0;
            }
            .note p {
                max-width: 16em;
            }

        /* --------------------------------- empty-start */

        .note,
        .wide,
        .box,
        .block {
            --grid-part--full-start: var(--grid-part--empty-start);
            --grid-part--full-end:   var(--grid-part--empty-end);
        }

        /* --------------------------------- reduce note */

        .note,
        .wide:not(.keep-grid),
        .box {

            --open-main-padding: pm_ pn_ pmb_;
            --open-main:          m_  n_  mb_;
            --stop-main:          _m  _n  _ma;
            --stop-main-padding: _pm _pn _pma;

            --grid-part--note-column:  0;
            --grid-part--main-content: 1fr;
        }

        /* --------------------------------- reduce content paddings */

        .journal-grid .block { /* +1 level */

            --open-main-padding: pm_ pn_ pmb_ m_  n_  mb_;
            --open-main:          0;
            --stop-main:          0;
            --stop-main-padding: _pm _pn _pma _m  _n  _ma;

            --grid-part--note-column:  0;
            --grid-part--main-content: 1fr;
        }

        /* --------------------------------- workers */

        /* -Align Compass: SELF */
         .c-align { align-self: center; justify-self: center; }
         .s-align { align-self: end;    justify-self: center; }
         .n-align { align-self: start;  justify-self: center; }
         .w-align { align-self: center; justify-self: start;  }
         .e-align { align-self: center; justify-self: end;    }
        .se-align { align-self: end;    justify-self: end;    }
        .ne-align { align-self: start;  justify-self: end;    }
        .sw-align { align-self: end;    justify-self: start;  }
        .nw-align { align-self: start;  justify-self: start;  }

        .pt-t, .pv-t {
          --padding-top:    calc( var(--sx, 0.250em) - 0.250em );
            padding-top:    var(--padding-top, 1em);
        }
        .pb-t, .pv-t {
          --padding-bottom: calc( var(--sx, 0.250em) - 0.250em );
            padding-bottom: var(--padding-bottom, 1em);
        }

    </style>

    <style id="book">

        /* --------------------------------- book layout */

        .book-of-chapters {
            grid-row-gap: 0;
        }
        .book-chapter {
            padding-top:    20vh;
            padding-bottom: 20vh;
        }
        .book-chapter-header {
            margin-top:    var(--sy);
            margin-bottom: var(--sy);
        }
        .book-chapter-caption {
            transform: translateX(calc((-0.75)*var(--sx)));
        }
        .book-illustration {
            margin-top:    var(--sy);
            margin-bottom: var(--sy);
        }
        .book-illustration.wide {
            padding:     calc( 1 * var(--sx) * var(--if-grid-no-tiny, 1) + var(--sx) ) 0;
        }
        .book-illustration.wide>*:not(figcaption):not(.figcaption) {
            margin-left: calc( 1 * var(--sx) * var(--if-grid-no-tiny, 1) );
        }


        /* --------------------------------- book markup */

        .book-markup p {
            max-width: 35em;
        }
        .book-markup .mini-text-block {
            max-width: 18em;
        }

        .book-markup blockquote {
            background-color: var(--back-color--descent);
            padding:          calc( var(--sx) - var(--sx-text-correction, 0) ) var(--sx);
            border-radius:    calc( 0.25*var(--sx) );
            /* clip-path: Anti-arrow from right side */
            clip-path: polygon(
                0                                0,
                100%                             0,
                100%                             calc( 1 * var(--sx) ),
                calc( 100% - 0.4*var(--sx) )     calc( 1.3*var(--sx) ),
                100%                             calc( 1.6*var(--sx) ),
                100%                             100%,
                0                                100%
            );
        }
        .book-markup q {
            position: relative;
        }
        .book-markup q::before {
            content:   '«';
            position:  absolute;
            transform: translateX(-125%);
        }
        .book-markup q::after {
            content:   '»';
            position:  absolute;
            transform: translateX(25%);
            bottom: 0;
        }

        .book-markup li {
            min-width: 20em;
        }

        /* --------------------------------- elements */

        .dialog-avatar.for-voron>img { max-height: 10em; }
        .dialog-avatar.for-appking>img { max-height: 18em; }

        .the-great-divider {
            text-align: center;
            padding: 1em 0;
            /* 40/48 */
            font-size:   2.5em;
            line-height: 1.2;
            }
        .the-great-divider::before { content: '* * *'; }

        .codeblock {
            display: block;
            background-color: var(--back-color--descent);
            padding: calc( var(--sx) - 0.25em ) var(--sx);
        }
        .codeblock.wrap-lines>pre {
            white-space: pre-wrap;
        }
        .codeblock>pre {
            margin: 0;
        }

        .color-box {
            background-color: var(--back-color--descent);
        }

        .box {
            --secondary-background-color: unset;
        }



    </style>

    <!-- ========================================== ʕ⊙ᴥ⊙ʔ = -->
    <!-- ========================================= END HEAD -->
</head>
<body class="colors--ivory use-colors">


    <!-- Вступление барона фон Гамбургера -->

    <header id="Introduction" class="el-introduction colors--swed use-colors chapter-has-bottom-divider">
        <section class="chapter">
            <p>Мой дорогой друг,</p>
            <p>Я встретил нашего короля на морском побережье. Он выглядел здоровым и счастливым, в рваных одеждах со сломанной королевской короной. На мой вопрос, что случилось, король рассказал чудесную историю. Я перескажу его словами.</p>
            <div class="group-wide">
                <p class="align-self--start">С сердечным поклоном,<br>барон фон Гамбургер.</p>
                <figure class="character el-hamburger js-for-ChaptersBar">
                    <img src="art/characters/hamburger.svg" alt="Барон фон Гамбургер">
                </figure>
            </div>
        </section>
    </header>

<main class="book-of-chapters -x- journal-grid book-markup">

    <!-- ---------------------------------------- Королевская Корона -->

    <article id="Taupo" class="book-chapter -x- layer keep-grid">

        <header class="book-chapter-header -x- wide">
            <p  class="-x- mid-title">Глава 1.</p>
            <h2 class="book-chapter-caption -x- huge-title">Встреча неподалёку от супервулкана Таупо</h2>
        </header>

        <p>Супервулканами называют большие извержения. В отличие от обычных вулканов у них нет высоких конусов, но диаметр отверстия огромен. Извержения такие сильные, что могут повлиять на климат и изменить мир. Самый молодой супервулкан по имени Таупо жил неподалёку от Новой Зеландии почти 30 тысяч лет назад.</p>

        <div class="note"><p>24500 лет до нашей эры</p></div>

        <p>В те годы король Апп прогуливался вокруг Таупо и наслаждался видами. По дороге встретил ворона без клюва.</p>

        <p>Клюв у ворона был сломан, вид у ворона был нелепый, взгляд у ворона был гордый и целеустремлённый.</p>

        <blockquote cite="appking">
            <q>Соврешенно очевидно, что клюв ты потерял в нелепой, но геройской ситуации, — отметил король при встрече.</q>
        </blockquote>

        <blockquote cite="voron">
            <q>Конечно да, — подтвердил ворон.</q>
        </blockquote>

        <figure class="dialog-avatar for-voron -x- note">
            <img src="art/characters/voron.svg" alt="ворон">
        </figure>

        <h3>Дело было так...</h3>

        <p>Накануне вечером, от потоков лавы загорелся лес. Ворон всю ночь летал спасая мелких грызунов — мышей, хомячков, бурундучков, ондатр. А когда уставшим утром полетел домой, то заснул на лету и клювом врезался в скалу.</p>

        <p>Теперь у ворона три медали за храбрость и почётная грамота, но без клюва нет никакой надежды на счастливую жизнь. От отчаяния ворон поставил себе задачу — прыгнуть в жерло вулкана. И в момент встречи с королём, ворон ответственно выполнял поставленную задачу.</p>

        <p>Король выслушал беду и смахнул слезу, потому что птичку жалко. Отломал кусок своей королевской короны, и смастерил из куска новый клюв для ворона. Хороший получился клюв — ¹) красивый, ²) удобный, ³) прочный.</p>

        <p>Ворону понравился клюв. Он поблагодарил и улетел счастливым.</p>

        <figure class="book-illustration -x- wide keep-grid color-box">
            <img src="art/illustrations/crown-legend-formula.svg" alt="Король с короной и грустный ворон = король без короны и счастливый ворон">
            <figcaption class="-x- note">
                <p>Рис. 1. Королевская формула счастья, доказанная на вóроне с применением короны и смекалки.</p>
            </figcaption>
        </figure>

        <p>Король Апп надел остатки короны на голову. Вид у короля был нелепый, взгляд у короля был гордый и целеустремлённый. Он направился к жерлу вулкана, чтобы прыгнуть вместо ворона.</p>

        <div class="block">
            <blockquote cite="appking">
                <q>Потому что каждая задача должна быть выполнена, — произнёс король Апп вслух.</q>
            </blockquote>
            <p>Продемонстрировав строгий палец окружающим камням (а больше никого и не было), король Апп спрыгнул с обрыва.</p>
        </div>

        <figure class="dialog-avatar for-appking -x- note">
            <img src="art/characters/appking-avatar.svg" alt="король Апп">
        </figure>

        <hr class="the-great-divider">

    </article>

    <!-- ---------------------------------------- Диалоги о Короне -->

    <article id="DialogsAboutCrown" class="book-chapter -x- layer keep-grid has-top-divider has-bottom-divider">

        <figure>
            <img src="art/characters/king-crown.svg" alt="Королевская корона">
        </figure>

        <blockquote cite="history">
            <q>На месте разлома изящные линии, и бусинки у нижнего края выглядят очень мило</q>
        </blockquote>

        <blockquote cite="creator">
            <q>Мне нравятся яркие позитивные цвета</q>
        </blockquote>

        <blockquote cite="history">
            <q>Немного похожа на улитку с глазами-шариками</q>
        </blockquote>

        <blockquote cite="creator">
            <q>Я сделаю эту корону главным логотипом</q>
        </blockquote>

        <blockquote cite="history">
            <q>Самым главным?</q>
        </blockquote>

        <blockquote cite="creator">
            <q>Да, самым главным логотипом от земли до неба. Это же королевская корона с легендарной историей!</q>
        </blockquote>

        <hr class="the-great-divider">

        <figure class="c-align">
            <img src="art/illustrations/crown-logo-features.svg" alt="Достоинства короны в качестве логотипа">
        </figure>

    </article>

    <!-- ---------------------------------------- Диалог с создателем -->

    <article id="DialogWithCreator" class="book-chapter -x- layer keep-grid">

        <header>
            <q><span class="huge-title">Кто здесь?</span></q>
            <p>— удивился король Апп.</p>
        </header>

        <p>Кто-то открыто обсуждал королевскую корону, но рядом никого не было. Казалось, что диалоги ведут разговор сами по себе.</p>

        <blockquote cite="creator">
            <q>Привет, я создатель, — ответил диалог.</q>
        </blockquote>

        <blockquote cite="appking">
            <q>Создатель чего?</q>
        </blockquote>

        <blockquote cite="creator">
            <q>Создатель всего...</q>
        </blockquote>

        <div class="block mid-title">
            <div>· Этого мира</div>
            <div>· Этого разговора</div>
            <div>· Этого списка</div>
            <div>· ...</div>
            <div>· Тебя</div>
            <div>· Этого кота</div>
        </div>

        <figure class="book-illustration -x- wide keep-grid color-box">
            <img src="art/characters/bergamot-just-browse-here.svg" alt="Браузер Бергамот. Просто смотрит.">
            <figcaption class="-x- note">
                <p>Рис. 2. Кот-Браузер, просто смотрит.</p>
            </figcaption>
        </figure>

        <p>Ответ смутил короля на секунду. Но в такой ситуации помогает проверочный вопрос:</p>

        <blockquote cite="appking">
            <q>Чем докажешь? — спросил король Апп.</q>
        </blockquote>

        <blockquote cite="creator">
            <q>Каждой твоей частичкой, — ответил диалог...</q>
        </blockquote>

        <hr class="the-great-divider">

        <div class="-x- wide color-box keep-grid pt pb">
            <h3 class="huge-title sw-align">... Посмотри же <nobr>на себя ...</nobr></h3>
            <div class="note">
                <figure style="--max-width:8em;">
                    <img src="art/characters/appking-avatar.svg" alt="Король Апп при внимательном рассмотрении">
                </figure>
            </div>
        </div>

        <div class="figured">
            <div class="block pt">
                <p>Для начала, взгляни на описание своего правого глаза. Тут цифрами записана формула кривой линии, а в конце можно заметить атрибут <def>author</def>. Совершенно ни на что не влияет, но о многом говорит.</p>
            </div>
            <figure class="codeblock wrap-lines">
                <pre>&lt;path id="right-eye" d="M165.2,675.8c16.1,0.4,20.3-3.5,34.9,7.5c19.4,14.7,5.2,36.2-15.6,37.8C147.7,723.9,139.3,695.8,165.2,675.8  C167.3,675.8,163.6,677.1,165.2,675.8z" author="это я сделал"/&gt;</pre>
            </figure>
        </div>

        <div class="figured">
            <div class="block">
                <p>Это ты в молодости — забавный скетч в моём блокноте.</p>
            </div>
            <figure class="color-box">
                <div>[APP SCETCH]</div>
            </figure>
        </div>

    </article>

</main>

    <!-- -------------------------------------------------------------- -->



    <article class="chapter">



        <p class="speech">«А с кем ты разговаривал? Создал собеседника? — спросил король Апп».</p>

        <p class="speech">«Нет, сама пришла, — ответил второй собеседник. — Привет, меня зовут История. Я модель вселенной.»</p>

        <div class="color-box"><div>[...TXT Диалог с моделью вселенной...]</div></div>

        <p class="speech">«Восхитительная женщина, — восхитился король Апп».</p>

        <p class="speech">«Опасна, как тигрица — заговорил кот. — Некоторые племена называют её Конфиг, другие зовут Настройкой. Такие страшные имена дают не просто так. Забудь. Есть миссия?»</p>

        <p class="speech">«Какая миссия?, — удивился король».</p>

        <p>«Миссия, задача, цель... Что-нибудь, что надо выполнить.»</p>

        <p>«Нет. Не знаю никакой миссии.»</p>

        <p>«А у меня есть. Пойдём со мной через гиперссылку.»</p>

        <div class="color-box title is-centered"><a href="#BrowserMission">Принять миссию</a></div>

        

    </article>

    <!-- Миссия кота -->

    <article id="BrowserMission" class="chapter">

        <header class="chapter-header">
            <h2 class="huge-title">Миссия кота</h2>
        </header>

        <p>Пройдя сквозь гиперссылку кот не спеша уселся перед королём. Занял достойную позу и пристально посмотрел на короля.</p>

        <p class="speech">«Есть очень важное задание. Я буду смотреть на тебя, а ты должен мне помочь. Я подготовил ТЭЗЭ, нужен специалист.»</p>

        <figure class="west character">
            <img src="art/characters/BergamotIsLookingAtYou.svg" alt="Бергамот пристально смотрит">
        </figure>

        <section class="el-tz-kota">
            <h3 class="big-title">ТЭЗЭ</h3>
            <p><b>Задача:</b> достать Модель DNA со дна озера</p>
            <p><b>Озеро:</b> рядом</p>
            <p><b>Модель DNA:</b> на дне</p>
            <p><b>Варианты решений:</b> В воду я точно не полезу. Можно откачать воду из озера, но оно большое. Надо построить резервуар достаточного размера, чтобы хранить там откачанную воду, пока я сбегаю за моделью. Если не получится откачать, тогда есть инженерное решение — труба широкая и длинная. Чтобы от поверхности озера достала до самого дна. Ты ведь сможешь придумать ступеньки внутри трубы? Чтобы я смог спуститься — это легко, я ловкий. Сделай чертёж и найди кого-нибудь, кто изготавливает трубы. Мой размер ты видишь, надо такого диаметра, чтобы я пролез... и вылез вместе с моделью. Она побольше меня будет в два или в три раза. Я не знаю точно, поэтому сделай размер с запасом. Все расходы, разумеется, беру на себя. Только запланируй затраты наперёд, — если будет дороже, чем аренда подводной лодки, тогда нет смысла придумывать велосипед. У меня товарищ по хорошей цене может предложить батискаф. Я уже ходил на нём в море и умею управлять. Был бы сейчас такой, в вмиг бы задачу выполнил. Тебя обязательно взял бы с собой, чтобы показать удивительный подводный мир. Жаль, что товарищ далеко от озера живёт. В батискафе хватило бы места нам обоим, даже с моделью. Кстати! Можем именно так отпразновать после выполнения миссии. Достанем модель дна и отправимся на дно :) Креативный план!</p>
            <p><b>Сроки:</b> желательно до четверга, плюс-минус пятница</p>
        </section>

        <hr>

        <p class="speech">«Почему ты дёргаешься?»</p>

        <p>Король на самом деле подёргивался от смеха, читая описание задачи. После вопроса он прекратил и извинился.</p>

        <p class="speech">«Прошу прощения, меня повеселило слово тэзэ. Очень смешно звучит, словно муха назойливая жужжит в поисках выхода. И всё в целом тоже очень смешно, да. Что ты от меня хочешь?»</p>

        <p class="speech">«ТЗ — это сокращение от Технического Задания. В нём описывают что должно быть сделано. Почитай тэзэ и назови точные сроки в часах. После обсуждения подпишем контракт на миссию, с меня благодарность и всё остальное.»</p>

        <p class="speech">«Ты сейчас серьёзно? Какой контракт, ты же кот?»</p>

        <p>Король Апп не до конца понимал намерения собеседника. Но кот был настроен решительно и продолжал смотреть.</p>

        <p class="speech">«Я всё ещё смотрю на тебя, а ты ничем не помогаешь.»</p>

        <p class="speech">«Смотреть на меня, это изощрённая пытка или награда?»</p>

        <p class="speech">«Это эффективный метод. Я поделилюсь с тобой формулой успеха для достижения цели — всегда смотреть прямо в цель. Вот конкретный пример: в начале XXI века, жил Никита Апофеоз — известный радиоведущий и блогер. Я у него под окнами каждый день сидел и смотрел, чтобы он меня сфотографировал и в блог выложил. В блоге появилась куча комментариев, одни спрашивали почему кот смотрит, другие придумывали варианты ответов. Самые разные, вплоть до идей заговора и инопланетного вторжения. И никто не мог догадаться, что я просто смотрю. Только я об этом знал. Позвал даже других котов на следующий день, чтобы вместе смотреть. Это была абсолютная победа! Так ты поможешь мне с моделью?»</p>

        <p class="speech">«До сих пор не понимаю, но пойдём взглянем на озеро. Только, прошу тебя, перестань разговаривать длинными параграфами, неудобно читать.»</p>

        <p>Король и кот вместе спустились к берегу большого озера.</p>

        <figure class="illustration bookground-illustration">
            <img src="art/illustrations/map-road-to-head-lake.svg" alt="Дорога к озеру Хеад">
        </figure>

    </article>

    <!-- Спасение модели DNA -->

    <article id="DnaRescue" class="chapter">

        <header class="chapter-header">
            <h2 class="huge-title">Спасение модели DNA</h2>
        </header>

        <p>Кот подошёл к высокому берегу и указал вниз.</p>

        <p class="speech">«Вода чистая, можно увидеть где лежит модель. Как думаешь, если через трубу...»</p>

        <p>Король Апп посмотрел на дно озера и немедленно прыгнул в воду с криком «Это же ребёнок!». Вытащил и положил на лужайку девочку, она не двигалась и её глаза были закрыты.</p>

        <p>Прежде чем что-либо предпринять, король Апп воспользовался методом кота — просто посмотрел. Это была светловолосая девочка в летнем платье и длинных перчатках. Из под платья выглядывали босые ноги, а обеими руками девочка крепко прижимала тапочки к груди. Казалось, что модель крепко спит и собирается спать до обеда.</p>

        <figure class="illustration">
            <img src="art/illustrations/SleepingDNA.svg" alt="Модель DNA спит до обеда">
        </figure>

        <p>Если до обеда, значит для спасения требуется немедленно приступить к приготовлению еды. Король Апп начал собирать ветки для костра, демонстративно приглашая кота помочь. А вслух спросил:</p>

        <p class="speech">«Зачем она тебе нужна?»</p>

        <p class="speech">«Хочу чтобы была моей покорной рабыней, кормила и убирала за мной целую жизнь.»</p>

        <p>Кот подошёл к девочке и тщательно обнюхал своё приобретение. Девочка всё так же лежала без движения, сжимая тапочки. Кот потрогал лапой мокрые волосы и облизнул кончик носа. От прикосновений девочка проснулась и через 250 милисекунд кот попал в её объятия вместо тапочек.</p>

        <p>Сама же девочка разразилась громким радостным визгом:</p>

        <p class="speech">«Какой милый котик! С этого момента я буду твоей хозяйкой, буду кормить и обнимать целую жизнь. Как тебя зовут?»</p>

        <p>Кот весь напрягся от поворота событий. Но, поскольку девочка не выпускала и не переставала гладить, кот смирился и скромно замурлыкал.</p>

        <p class="speech">«Меня зовут Бергамот. Я не котик, я браузер.»</p>

        <p>Король Апп тоже представился и спросил, всё ли в порядке у девочки? И хорошо ли она себя чувствует?</p>

        <p>Девочка отпустила кота и подошла к озеру, чтобы посмотреть на своё отражение в воде. Перед ответом она долго причесывала непослушные волосы руками.</p>

        <p class="speech">«Нет, со мной не всё в порядке. Мои волосы, они падают на глаза.»</p>

        <p>Король Апп снял с головы золотую корону и отломал кусочек металла. Согнул в нескольких местах и смастерил красивую заколку, которую протянул девочке. Та приняла подарок с удивлёнными глазами.</p>

        <p class="speech">«Это так мило, спасибо! Она золотая? Я обязательно продам. С волосами мне поможет что-нибудь попроще...»</p>

        <p>Девочка высмотрела на замле сухой корешок и заплела в волосы. Королевскую заколку прицепила к платью, как брошку.</p>

        <figure class="is-centered character">
            <img src="art/characters/dna-model-wake-up.svg" alt="Модель DNA проснулась">
        </figure>

    </article>

    <!-- Асинхронный обед DNA -->

    <article id="SyncAsync" class="chapter">

        <header class="chapter-header">
            <h2 class="huge-title">Асинхронный обед</h2>
        </header>

        <p>Пока девочка приводила себя в порядок, король Апп успел разжечь небольшой костер и сварить в перевёрнутой короне горсть гречки из кармана. Пока крупа готовилась, король раскопал песок на берегу и нашёл кладку консервов тунца — самка тунца часто закапывает свои консервы поблизости от водоёма, чтобы уберечь от хищников. Пару банок король добавил в гречку.</p>

        <p>Обедали все вместе прямо из короны. А насытившись, остались отдыхать на берегу озера. Бергамот и девочка гонялись за бабочками, король же от усталости погрузился в крепкий сон.</p>

        <figure>
            <img src="art/illustrations/sync-async.svg" alt="Синхронные и асинхронные процессы во время обеда">
        </figure>

        <p>Девочка заинтересовалась схемами. И спросила:</p>

        <p class="speech">«Почему вы подписаны именами, а про меня написано «девочка»? Мне так не нравится.»</p>

        <p class="speech">«Моментально поменяем. Дай своё имя, я заменю девочку.»</p>

        <p>Девочка замешкалась. У неё не оказалось имени. Кот подошёл проверить и тщательно обнюхать, вдруг имя застряло в складках платья. Но тут же чихнул.</p>

        <p class="speech">«Андефайнед!»</p>

        <div class="east text-note">
            undefined
        </div>

        <p class="speech">«Будь здоров! Если нет имени, значит мы отправимся на поиски.»</p>

        <p>Уверенно заявил король Апп и повёл новых друзей к Карбонским болотам.</p>

        <figure class="illustration bookground-illustration">
            <img src="art/illustrations/map-road-to-swamp.svg" alt="Дорога к Карбонским болотам">
        </figure>

    </article>

    <!-- Карбонские болота -->

    <article id="CarbonSwamp" class="chapter">

        <header class="chapter-header">
            <h2 class="huge-title">Карбонские болота</h2>
        </header>

        <p>Карбон — второе название каменноугольного периода в истории Земли. В те годы ещё не появились динозавры, но уже обитали разнообразные амфибии и рептилии. Суша была покрыта тёплыми болотами и хвойными лесами. Старые деревья опускались в илистое дно и медленно превращались в каменный уголь, который через триста миллионов лет будут откапывать шахтёры.</p>

        <div class="east text-note">
            <p>Каменноугольный период, <nobr>359—299 миллионов</nobr> лет назад</p>
            <ul>
                <li><a href="https://ru.wikipedia.org/wiki/%D0%9A%D0%B0%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%D1%83%D0%B3%D0%BE%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D0%BF%D0%B5%D1%80%D0%B8%D0%BE%D0%B4">wikipedia</a></li>
            </ul>
        </div>

        <p>Тропинка ведущая к болотам становилась всё меньше, пока совсем не растворилась в лужах с зелёной ряской. Ещё дальше, лужи превращались в одно большое болото до самого горизонта.</p>

        <p class="speech">«Здесь живут примитивы: Були, Инты, Стринги и другие племена. Выглядят как ящерицы самых разных форм и размеров. Из всех прочих, нам нужна небольшая ящерка Стринг, она умеет запоминать имя и хранить его вечно... А огромный хищный Массив нам совсем не нужен!»</p>

        <p>Король Апп указал на огромную рептилию в глубине болот — размером с многоэтажный дом.</p>

        <p class="speech">«Поэтому меняем планы. Переносим поиск имени, сначала нам нужна армия. Для этого вернёмся в горы и найдём деревню с местными жителями.»</p>

        <p>Девочка не могла допустить переноса важной мисиии, а тем более не хотелось идти общаться с местными жителями не имея собственного имени.</p>

        <p class="speech">«Нам нужна армия?, — спросила девочка».</p>

        <p class="speech">«Определённо да! Отряд из пятидесяти дизайнеров, чтобы отогнать Массив.»</p>

        <p class="speech">«Почему пятидесяти?»</p>

        <p class="speech">«Для гарантированного эффекта. Представь пятьдесят дизайнеров, бегущих на тебя с криком «сейчас поправлю!». Такая сила способна прогнать рептилию размером с Ост-Индийскую компанию.»</p>

        <section class="color-box">
            <figure>
                <img src="art/placeholders/army-of-fifty-designers.jpg" alt="Армия из пятидесяти дизайнеров">
            </figure>
        </section>

        <p>Девочка представила и спросила:</p>

        <p class="speech">«Можно я пойду вместо армии?»</p>

        <p>Король Апп согласился, что существует не нулевой шанс, что маленькая девочка выполнит взрослую миссию. И даже может заменить пол сотни обученных солдат. Но результата сложно достичь без приёма Рояль-в-Кустах, — так называют искусственный поворот сюжета, плохо замаскированный под случайность. Это очень скучный приём.</p>

        <p>Поэтому, нет. Король Апп не согласился.</p>

        <p class="speech">«А если я повзрослею?, — предложила девочка».</p>

        <p class="speech">«Вот это будет намного интереснее».</p>

        <p>Девочка повернулась к болотам и закрыла глаза...</p>

        <p>Уже стало настолько интересно, что ящерки подползли к берегу и наблюдали за происходящим. Внешне ничего не менялось. Через несколько секунд девочка открыла глаза и посмотрела на столпившихся ящерок.</p>

        <p class="speech">«Вы повзрослели?, — осторожно поинтересовалась одна ящерка».</p>

        <p class="speech">«Да, — ответила девочка».</p>

        <p>Ящерки оживились и бросились задавать много вопросов:</p>

        <ul>
            <li>Что поменялось?</li>
            <li>Как вы к этому пришли?</li>
            <li>А почему внешне не изменились?</li>
            <li>Почему продолжают писать «девочка», если вы повзрослели?</li>
            <li>Можете сказать что-нибудь умное?</li>
        </ul>

        <p>Девочка улыбнулась и постаралась разом ответить на все вопросы:</p>

        <p class="speech">«Я просто повзрослела. Изменила своё отношение к вам и стала по другому себя вести. А девочкой меня называют, потому что нет другого имени, кроме девочка или Модель Дна...»</p>

        <p class="speech">«Ещё один вопрос, пожалуйста, спасибо! Каким конкретно образом вы собираетесь одолеть меня, размером с небольшой филиал страховой компании? Есть сдвиги в этом направлении?»</p>

        <p>Это прошипел огромный Массив, который к этому времени успел подползти к общей конференции на тему взросления.</p>

        <p class="speech">«Пятьдесят дизайнеров!, — закричал король Апп и выхватил меч».</p>

        <p>Девочка прикоснулась к плечу короля, прося разрешение на ответ. Затем обратилась к Массиву с вежливым поклоном.</p>

        <p class="speech">«Сдвиги есть. И есть взаимовыгодное предложение: вы расскажете лекцию о примитивах, кто вы такие, зачем вы здесь, какая ваша история? Мы внимательно выслушаем, за это вы позволите забрать одну ящерку.»</p>

        <p>Ящерки одобрительно зашипели и Массив принял предложение.</p>

        <section class="color-box primitive-form">
            <div>
                <label>
                    <input type="checkbox">
                    — я соглашаюсь прочитать лекцию о примитивах
                </label>
            </div>
            <div>
                <button>Продолжить</button>
            </div>
        </section>

    </article>

    <!-- Лекция о примитивах -->

    <article id="Primitives" class="chapter">

        <header class="chapter-header">
            <h2 class="huge-title">Лекция о примитивах</h2>
        </header>

        <p>В мифической древности жила богиня Информация. Она была единственной, кто знал ответы на все вопросы. Только радости от этого было мало, поскольку она же была единственной, кто знал все вопросы.</p>

        <p>Много тёмных веков провела Информация в одиночестве, пока не рассыпалась на мелкие осколки — тысячи вопросов и ответов разлетелись по всей вселенной.</p>

        <p>Так закончилась мифическая древность и начались суровые технические детали.</p>

        <p><strong>Данные</strong> — зарегестрированные осколки информации для удобного хранения. Данные можно передавать или обрабатывать.</p>

        <p>Мельчайшие кирпичики данных — это <strong>простые типы</strong>, они же <strong>примитивы</strong>. В глубине браузера живут семь различных племён.</p>

        <h3>Племена примитивов</h3>

        <p>Були (<strong>boolean</strong>) — очень примитивные примитивы. Обозначают только одно из двух — либо «да», либо «нет». Так и живут всю жизнь.</p>

        <p>Нули (<strong>null</strong>) — казалось бы, кто может быть проще булей? А вот он Нуль. Нет данных. Ничего нет.</p>

        <p>Намберы (<strong>number</strong>)</p>

        <p>Стринги (<strong>string</strong>)</p>

        <p>https://developer.mozilla.org/en-US/docs/Glossary/Primitive</p>

    </article>

    <!-- Непослушное имя -->

    <article id="SettersGetters" class="chapter">

        <header class="chapter-header">
            <h2 class="huge-title">Непослушное имя</h2>
        </header>

        <section class="article-layer">
            <figure>
                <img class="wide-illustration" src="art/illustrations/DNA-looking-for-string-name.jpg" alt="Модель DNA находит имя в карбонских болотах">
            </figure>
        </section>

        <p>На ветках ближайшего куста сидела небольшая ящерка. По краям глаз у ящерки висели небольшие кавычки из солнечного света, похожие на большие ресницы. Девочка застыла от умиления разглядывая ящерку.</p>

        <p class="speech">«Какая красивая!, — прошептала девочка и посадила ящерку к себе на плечо. — Ты будешь хранить красивое имя — Шонталь.»</p>

        <p>Ящерка тоже с интересом рассматривала девочку и думала:</p>

        <p class="speech">«Бедняжка. Такая хорошенькая, а уже растеряла свои кавычки. Только одна осталась — заколка в волосах. Я позабочусь о бедной сиротке.»</p>


        <section class="color-box">
<pre>
DnaModel = {
    name: "Шонталь"
}
</pre>
        </section>

        <div class="lizard-value">"Шонталь"</div>

        <p>Всю обратную дорогу Шонталь не могла нарадоваться новому имени и знакомилась с каждым встречным:</p>

        <p class="speech">«Здравствуйте, меня зовут Шонталь! Добавьте меня в свою контактную книжку.»</p>

        <p class="speech">«Но, позвольте, — возразил один встречный, — ваше имя не Шонталь, а Чик-Чирик».</p>

        <p class="speech">«Какой ещё Чик-Чирик? Почему?, — удивилась <em>Чик-Чирик</em>».</p>

        <p>Встречный пожал плечами и указал на ящерку. Вместо ожидаемого имени совсем другое слово было в кавычках:</p>

        <div class="lizard-value">"Чик-Чирик"</div>

        <p>А через несколько секунд:</p>

        <div class="lizard-value">"Давай поиграем"</div>

        <p>Ещё через мгновение, имя вновь поменялось:</p>

        <div class="lizard-value">"Слоник прыгает в лавандовых полях"</div>

        <p class="speech">«Как же так?, — огорчилась <em>Слоник прыгает в лавандовых полях</em>, — неужели моё красивое имя пропало? И как теперь жить, если имя меняется каждую секунду?»</p>

        <div class="lizard-value">"Не расстраивайся"</div>

        <p><em>Не расстраивайся</em> расстроилась и обратилась к королю за помощью. Король Апп внимательно осмотрел ящерку, проверил кавычки с обеих сторон, но не понял в чём дело. Только шаманские танцы с бубном помогут разобраться.</p>

        <p>Король отыскал в траве старую змеиную кожу и сделал бубен из королевской короны. Посадил ящерку на камень и долго танцевал кругами вокруг камня, пока не появилась радуга.</p>

        <p>По радуге, с весёлыми криками и звонким хохотом, вниз скатились две старушки. Увидели ящерку и засмеялись ещё громче:</p>

        <p class="speech">«Ха-ха, знакомый пациент. С чем у вас играется? С именами? Вам ещё повезло, в прошлом году ей доверили пароль от вай-фая, вот это был конфуз! Меня зовут Сетера, это моя сестра Гетера. Мы справляемся с такими ящерками на раз-два.»</p>

        <p>Старушка Сетера запрыгнула на камень на счёт раз, и бесцеремонно села на ящерку на счёт два. Ящерка отчаянно сопротивлялась, но выбраться из под старушки не было шансов.</p>

        <p>«Чем беспокоит?», — спросила старушка у <em>Отпусти меня старая ведьма</em>... спросила у девочки, лучше так продолжим её называть пока ящерка не образумится... Девочка попросила, чтобы ящерка не меняла имя «Шонталь» ни на что другое, а то совсем неудобно.</p>

        <p>Старушка пообещала сделать «Шонталь» константой — так называют неизменяемое значение — и слегка надавила на ящерку. Ящерка сперва поддалась давлению:</p>

        <div class="lizard-value">"Шонталь"</div>

        <p>Но через пару секунд, ящерка взбунтовалась.</p>

        <div class="lizard-value">"Немедленно отпусти"</div>

        <div class="lizard-value">"Я"</div>

        <div class="lizard-value">"Никогда"</div>

        <div class="lizard-value">"Не буду"</div>

        <div class="lizard-value">"Работать"</div>

        <div class="lizard-value">"По вашим"</div>

        <div class="lizard-value">"Скучным"</div>

        <div class="lizard-value">"Правилам"</div>

        <div class="lizard-value">"Отпустите, пожалуйста!"</div>

        <p class="speech">«Тут, думаю, сложный случай, — сказала старушка и отпустила ящерку, — только сестра поможет.»</p>

        <p>Сестра Гетера всё это время танцевала с бабочками в лучах радуги. Услышав своё имя, подошла к ящерке, подняла на руки и нежно поцеловала в нос.</p>

        <div class="lizard-value">"Константа"</div>

        <p class="speech">«Вы же хотели Константу?, — спросила старушка Гетера и вернулась к танцам не дожидаясь ответа».</p>

        <section class="color-box">
<pre>
DnaModel = {
    name: "Вы меня не остановите!",
    get name() {
        return "Константа"
    }
}
</pre>
        </section>

        <p>Константе понравилось имя «Константа», пусть не похоже на прежнее, но не менее красивое.</p>

        <p>Ящерка тоже успокоилась. Теперь она могла что угодно писать в своих кавычках, но, благодаря Гетере, Константа оставалась Константой.</p>

        <p>Старушки Гетера и Сетера попрощались, схватились за радугу и вместе с ней улетели в небо.</p>

        <p>Король Апп запечатлел момент высекая надпись на камне:</p>

        <section class="color-box">
            <figure>
                <img src="art/illustrations/MessageOnTheStone.svg" alt="Здесь были Константа с Ящеркой, Браузер Бергамот и Король Апп. Ты, который прочитаешь наши имена отпечатанные во времени, веди себя хорошо. Отзывайся на помощь ближнему, береги природу.">
            </figure>
        </section>

        <p class="speech">«Теперь меня называют по имени, — обрадовалась Константа. — Не хватает только изображения всех нас. Примерно так:»</p>

        <figure class="illustration">
            <img src="art/illustrations/GetSetProcedure.svg" alt="Константа с Ящеркой, Браузер Бергамот и Король Апп + Гетера и Сетера">
        </figure>

        <p class="speech">«Было бы весьма кстати, — согласился король Апп. — Жаль, некому нарисовать. Может быть, мы найдём художника в ближайшей деревне?»</p>

    </article>

    <!-- Волк в шкуре волка -->

    <article id="WolfSkin" class="chapter">

        <header class="chapter-header">
            <h2 class="huge-title">Волк в шкуре волка</h2>
        </header>

        <p>Дорога в деревню поднималась в горы, а вдоль дороги стояли скамейки для отдыха в тени деревьев. На скамейке отдыхал волк в шкуре другого волка.</p>

        <p>Король Апп, Константа и Бергамот ещё издали обратили внимание на волка. А когда подошли ближе, Константа поздоровалась и поинтересовалась, зачем дополнительная шкура?</p>

        <p class="speech">«Дезориентация противника. Если овцы заметят в овечей шкуре, то сразу догадаются о волке внутри. В волчей шкуре никто не заподозрит волка.»</p>

        <p class="speech">«Какая глубокая стратегия. Скажите, это действительно помогает в охоте?»</p>

        <p class="speech">«О какой охоте вы говорите, сударыня. С местными овцами больше беспокоюсь о выживании. Тут ситуация следующая...»</p>


        <section class="color-box">

            <h3 class="mid-title">Отчёт по овечкам</h3>

            <p><strong>Позавчера</strong> это были милые овечки. Мирно паслись на лугах и радовались жизни.</p>

            <p><strong>Вчера</strong> у каждой овечки появились проблемы. Проблемы сами по себе несерьёзные, — у одной овечки ромашки завяли, у другой картинки не загрузились, — но овечек очень много, проблемы у каждой свои уникальные. Никто не знает как решить всё разом.</p>

            <p><strong>Сегодня</strong> это уже воинствующие банды терроризирующие мирное население своими нерешёнными проблемами.</p>

        </section>

        <p>После того, как овечки завесили сетями все выходы из долины, местные жители оказались в информационном пузыре.</p>

        <p>Информационный пузырь — он же пузырь фильтров — термин используют, когда поиск новых знаний теоретически доступен со всего мира, но на практике, источники ограничены списками «похожие знания» или «знания ваших близких друзей». Такие списки составляются на основе уже известной информации и не могут содержать что-либо принципиально новое.</p>

        <p class="speech">«Надо спасти жителей от интелектуальной изоляции, — отметил король Апп, — Очевидно, мне известно простое решение...»</p>

        <p class="speech">«Нет-нет, увольте, ваше высочество. Уже было достаточно решателей, только хуже стало.»</p>

        <p>Однажды пригласили мастера-инструктора из Норвегии. Тот заявил, что физические упражнения и духовные практики вернут гармонию в наши земли. Провёл несколько занятий с овечками и каков результат?</p>

        <p>После физических тренировок любой ягнёнок способен скрутить волка в бараний рог.</p>

        <p>А духовные практики помогают овцам сохранять ясность ума, просчитывать поведение соперника и наносить упреждающие удары.</p>

        <p class="speech">«Где же теперь тот мастер?»</p>

        <p class="speech">«Чудом выжил, сбежал в южные города. Переквалифицировался, читает лекции на тему, как перестать корить себя за совершённые ошибки. Я бы и вам посоветовал бежать, только заговорился совсем. И мы уже окружены...»</p>


    </article>

    <!-- Битва с овечками -->

    <article id="BattleSheeps" class="chapter article-grid">

        <header class="article-header">
            <h2 class="huge-title">Битва с овечками</h2>
        </header>


        <p>Овец было несколько сотен. Окружили со всех сторон, отрезав пути к отступлению. Король Апп повторил, что у него есть простое решение ситуации, но безуспешно. Овцы вытолкали путешественников на середину дороги и швырнули в ноги волейбольный мяч.</p>

        <p>С овечих морд свисали сбившиеся комки шерсти отмеченные грязью и суровой решимостью. Назревал нешуточный волейбольный матч прямо посреди дороги.</p>

        <p class="speech">«Вы не шутите?, — удивилась Константа. — Волейбольный матч?»</p>

        <p class="speech">«Нет, они не шутят. Так решаются конфликты в наших горах.»</p>


    </article>

    <!-- -------------------------------------------------------------- -->

    <!-- Содержание -->

    <aside class="ChaptersBar offsidebar from-eastside colors-as-secondary">
        <section class="sidepanel">

            <header class="sidepanel-header">
                <h2 class="min-title">Содержание</h2>
            </header>

            <nav class="sidepanel-content">
                <ul class="asidebar-list js-for-ChaptersList">
                    <li><a href="#Introduction" class="js-for-ChaptersBar">Вступление</a></li>
                </ul>
            </nav>

        </section>
    </aside>
    <button class="VonHamburgerOnDuty">
        <figure class="el-hamburger js-for-ChaptersBar">
            <img class="for-inactive" src="art/characters/hamburger.svg" alt="Барон фон Гамбургер">
            <div class="for-active svga-icon base-size"><svg><use xlink:href="#svg-close"></use></svg></div>
        </figure>
    </button>

    <!-- AutofillChaptersList -->

    <script>
        function AutofillChaptersList () {

            // cast
            const listwrap = document.querySelector('.js-for-ChaptersList')
            const chapters = document.querySelectorAll('article.chapter[id]')
            const cssTitle = '.chapter-header>h2'

            // operations
            const createChapterLink = function (pointer, caption) {
                let item = document.createElement('li')
                let link = document.createElement('a')
                let text = caption.textContent || 'undefined'
                link.classList.add('js-for-ChaptersBar')
                link.href = '#' + pointer
                link.textContent = text
                item.appendChild(link)
                listwrap.appendChild(item)
            }
            const doFindAndAddToList = function (el) {
                const pointer = el.id
                const caption = el.querySelector(cssTitle)

                if (pointer && caption) createChapterLink(pointer, caption)
            }

            // autofilling process
            chapters.forEach(doFindAndAddToList)
        }
        (AutofillChaptersList)()
    </script>

    <!-- ActivateChaptersBar -->

    <script>
        function InterfaceOffsideBar (barName) {

            const asidebar = document.querySelector('.'+barName)
            const htmlwrap = document.querySelector('html')

            const classActive     = 'is-active'
            const classHasOverlay = 'has-offsidebar-overlay'
            const cssBartender    ='.js-for-' + barName
            const classOverlay    = 'offsidebar-overlay'
            const classBackground = 'offsidebar-background'

            const doClose  = () => {
                asidebar.classList.remove(classActive)
                htmlwrap.classList.remove(classHasOverlay) }
            const doOpen   = () => {
                asidebar.classList.add(classActive)
                htmlwrap.classList.add(classHasOverlay) }
            const doToggle = () => {
                if (asidebar.classList.contains(classActive)) doClose()
                else doOpen()
            }

            // find and activate bartenders
            const bartenderFunction = (el, order) =>
                  el.addEventListener('click', order === 'close' ? doClose : doToggle )
            document.querySelectorAll(cssBartender).forEach(bartenderFunction)

            // find/create background
            let background = asidebar.querySelector('.'+classBackground)
            if(!background) {
                background = document.createElement('div')
                background.classList.add(classBackground)
                asidebar.prepend(background)
            }

            // find/create shadow overlay with functionality
            let overlay = asidebar.querySelector('.'+classOverlay)
            if(!overlay) {
                overlay = document.createElement('div')
                overlay.classList.add(classOverlay)
                asidebar.prepend(overlay)
            }
            bartenderFunction(overlay, 'close')
        }

        // Launch Activation
        InterfaceOffsideBar('ChaptersBar')
    </script>

    <!-- Activate von Hamburger position -->

    <script>
        function vonHamburgerIsActiveWhenGoesNorth (markerName) {
            const marker    = document.querySelector('.el-introduction .el-hamburger')
            const dutyPlace = document.querySelector('.VonHamburgerOnDuty')
            const doDisplay = () => dutyPlace.classList.add('is-active')
            const doAway    = () => dutyPlace.classList.remove('is-active')

            if( !window.IntersectionObserver ) return doDisplay()

            const markerFunction = (reports) => {
                let status = reports[0]
                if (status.boundingClientRect.bottom>0) doAway()
                else doDisplay()
            }
            const markerObserver = new IntersectionObserver(markerFunction, {threshold:[0]} )
            markerObserver.observe(marker)
        }
        vonHamburgerIsActiveWhenGoesNorth()
    </script>

</body>
</html>
